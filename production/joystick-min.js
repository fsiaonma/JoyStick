var JoyStick=function(e){var e=e,t=1,n=1,r=null,i=function(t){var n=e.x<t.x&&t.x<e.x+e.width,r=e.x<t.y&&t.y<e.y+e.height;return n&&r};this.setBasePos=function(e){return i(e)&&(r={x:e.x,y:e.y}),r},this.getDpos=function(e){var s=null;if(i(e)){var o=e.x-r.x,u=e.y-r.y,a=Math.sqrt(Math.pow(o,2)+Math.pow(u,2));a>0&&(s={stick:{vX:n*o/a,vY:n*u/a},target:{vX:t*o/a,vY:t*u/a}})}return s},this.resetPos=function(){r=null},this.setTargetV=function(e){t=e},this.setStickV=function(e){n=e}};(function(){var e=null;JoyStick.getInstance=function(t){return null==e&&(e=new JoyStick(t)),e}})();